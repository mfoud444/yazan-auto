import{d as x,i as _,k as U,bf as w,b9 as D,j as G,m,t as l,p as I,c as S,b as v,e as y,u as e,a as u,w as r,F as O,o as P,af as T,z as n,l as B,C as R,D as W}from"./index-2283ff34.js";import{N as Y}from"./Grid-2cd1e46d.js";import{N as i}from"./FormItemGridItem-0cc98245.js";import{N as C}from"./Form-ba92273a.js";import"./FormItem-38c3009b.js";const V=v("div",{class:"container_dashboard"},[v("div",{class:"header_dashboard"})],-1),z={class:"p-8 m-8 shadow-lg mx-20 border-none flex flex-col gap-2 rounded-lg"},E={class:"post-heading mb-1"},j={class:"gtext text-2xl font-bold underlined mb-8"},L={class:"mt-4"},$=x({__name:"index",setup(H){const{isMobile:k}=_(),o=U(()=>(k.value,24)),g=w(),b=D(),f=G(),c=m(null),d=m(!1),a=m({...g.settings}),A={defaultMessage:[{required:!0,message:l("setting.defaultMessageRequired"),trigger:["input","blur"]}],termsOfUseUrl:[{required:!0,message:l("setting.termsOfUseUrlRequired"),trigger:["input","blur"]}],privacyPolicyUrl:[{required:!0,message:l("setting.privacyPolicyUrlRequired"),trigger:["input","blur"]}],urlGooglplay:[{required:!1,message:l("setting.urlGooglplay"),trigger:["input","blur"]}],urlAppstore:[{required:!1,message:l("setting.urlAppstore"),trigger:["input","blur"]}],urlFacebook:[{required:!1,message:l("setting.urlFacebook"),trigger:["input","blur"]}],urlYoutube:[{required:!1,message:l("setting.urlYoutube"),trigger:["input","blur"]}],urlWhatsapp:[{required:!1,message:l("setting.urlWhatsapp"),trigger:["input","blur"]}],email:[{required:!1,message:l("setting.email"),trigger:["input","blur"]}],urlInstagram:[{required:!1,message:l("setting.urlInstagram"),trigger:["input","blur"]}],urlTiktok:[{required:!1,message:l("setting.urlTiktok"),trigger:["input","blur"]}],phoneNumber:[{required:!1,message:l("setting.phoneNumber"),trigger:["input","blur"]}],version:[{required:!1,message:l("setting.versionApp"),trigger:["input","blur"]}]};async function M(){try{d.value=!0,await g.updateDataAction(a.value),d.value=!1,f.success(l("setting.updateSuccess"))}catch(p){d.value=!1,console.error(l("setting.updateFailed"),p.message),f.error(l("setting.updateFailed"))}}function N(p){var t;p.preventDefault(),(t=c.value)==null||t.validate(s=>{if(s)f.error(l("setting.fillAllFields")),d.value=!1;else if(a.value.email&&!W(a.value.email)){f.error(l("auth.invalidEmailFormat")),d.value=!1;return}else d.value=!0,M()})}const q=U(()=>d.value||!a.value.defaultMessage||!a.value.termsOfUseUrl||!a.value.privacyPolicyUrl),h=m([]);async function F(){try{await g.fetchDataAction(),await b.fetchDataAction({limit:1e3,offset:0}),h.value=b.listModels.filter(p=>p.isActivate).map(p=>({label:p.name,value:p.id})),a.value={...g.settings}}catch(p){console.error(l("setting.dataFetchError"),p.message)}}return I(F),(p,t)=>(P(),S(O,null,[V,v("div",z,[v("div",E,[v("div",j,y(e(l)("setting.title")),1)]),u(e(C),{ref_key:"formRef",ref:c,model:a.value,rules:A,size:"large"},{default:r(()=>[u(e(Y),{span:o.value,"x-gap":24},{default:r(()=>[u(e(i),{span:o.value,path:"defaultAiModel",label:e(l)("setting.defaultAiModel")},{default:r(()=>[u(e(T),{value:a.value.defaultAiModel.id,"onUpdate:value":t[0]||(t[0]=s=>a.value.defaultAiModel.id=s),options:h.value,placeholder:e(l)("setting.selectDefaultModel"),clearable:""},null,8,["value","options","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"defaultMessage",label:e(l)("setting.defaultMessage")},{default:r(()=>[u(e(n),{value:a.value.defaultMessage,"onUpdate:value":t[1]||(t[1]=s=>a.value.defaultMessage=s),placeholder:e(l)("setting.defaultMessage"),type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"termsOfUseUrl",label:e(l)("setting.termsOfUseUrl")},{default:r(()=>[u(e(n),{value:a.value.termsOfUseUrl,"onUpdate:value":t[2]||(t[2]=s=>a.value.termsOfUseUrl=s),placeholder:e(l)("setting.termsOfUseUrl")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"privacyPolicyUrl",label:e(l)("setting.privacyPolicyUrl")},{default:r(()=>[u(e(n),{value:a.value.privacyPolicyUrl,"onUpdate:value":t[3]||(t[3]=s=>a.value.privacyPolicyUrl=s),placeholder:e(l)("setting.privacyPolicyUrl")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlGooglplay",label:e(l)("setting.urlGooglplay")},{default:r(()=>[u(e(n),{value:a.value.urlGooglplay,"onUpdate:value":t[4]||(t[4]=s=>a.value.urlGooglplay=s),placeholder:e(l)("setting.urlGooglplay")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlAppstore",label:e(l)("setting.urlAppstore")},{default:r(()=>[u(e(n),{value:a.value.urlAppstore,"onUpdate:value":t[5]||(t[5]=s=>a.value.urlAppstore=s),placeholder:e(l)("setting.urlAppstore")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlFacebook",label:e(l)("setting.urlFacebook")},{default:r(()=>[u(e(n),{value:a.value.urlFacebook,"onUpdate:value":t[6]||(t[6]=s=>a.value.urlFacebook=s),placeholder:e(l)("setting.urlFacebook")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlYoutube",label:e(l)("setting.urlYoutube")},{default:r(()=>[u(e(n),{value:a.value.urlYoutube,"onUpdate:value":t[7]||(t[7]=s=>a.value.urlYoutube=s),placeholder:e(l)("setting.urlYoutube")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlWhatsapp",label:e(l)("setting.urlWhatsapp")},{default:r(()=>[u(e(n),{value:a.value.urlWhatsapp,"onUpdate:value":t[8]||(t[8]=s=>a.value.urlWhatsapp=s),placeholder:e(l)("setting.urlWhatsapp")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"email",label:e(l)("setting.email")},{default:r(()=>[u(e(n),{value:a.value.email,"onUpdate:value":t[9]||(t[9]=s=>a.value.email=s),placeholder:e(l)("setting.email")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlInstagram",label:e(l)("setting.urlInstagram")},{default:r(()=>[u(e(n),{value:a.value.urlInstagram,"onUpdate:value":t[10]||(t[10]=s=>a.value.urlInstagram=s),placeholder:e(l)("setting.urlInstagram")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"urlTiktok",label:e(l)("setting.urlTiktok")},{default:r(()=>[u(e(n),{value:a.value.urlTiktok,"onUpdate:value":t[11]||(t[11]=s=>a.value.urlTiktok=s),placeholder:e(l)("setting.urlTiktok")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"phoneNumber",label:e(l)("setting.phoneNumber")},{default:r(()=>[u(e(n),{value:a.value.phoneNumber,"onUpdate:value":t[12]||(t[12]=s=>a.value.phoneNumber=s),placeholder:e(l)("setting.phoneNumber")},null,8,["value","placeholder"])]),_:1},8,["span","label"]),u(e(i),{span:o.value,path:"version",label:e(l)("setting.versionApp")},{default:r(()=>[u(e(n),{value:a.value.version,"onUpdate:value":t[13]||(t[13]=s=>a.value.version=s),placeholder:e(l)("setting.versionApp")},null,8,["value","placeholder"])]),_:1},8,["span","label"])]),_:1},8,["span"]),v("div",L,[u(e(B),{type:"primary",style:{width:"100%"},size:"large",loading:d.value,disabled:q.value,onClick:N},{default:r(()=>[R(y(e(l)("setting.update")),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["model"])])],64))}});export{$ as default};
